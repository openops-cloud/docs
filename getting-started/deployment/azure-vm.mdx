---
title: 'Azure VM Deployment'
description: 'How to deploy OpenOps on Azure Virtual Machines'
icon: 'microsoft'
---

import AutoInstall from '/snippets/auto-install.mdx'
import Disclaimer from '/snippets/non-production-disclaimer.mdx';
import HostValidation from '/snippets/host-validation.mdx';
import { NarrowImage } from '/snippets/narrow-image.jsx'
import TLS from '/snippets/tls.mdx';
import UpdateCredentials from '/snippets/env-update-credentials.mdx';
import UpdateLink from '/snippets/update-link.mdx';

<Disclaimer/>

This guide explains how to install the OpenOps Docker Compose release on a newly created Azure VM.

You’ll need relevant permissions to create a new VM, edit its networking settings, and set up required permissions for Cloud Shell.

## Initial deployment

### Create a new virtual machine

1. Navigate to [Create a virtual machine](https://portal.azure.com/#create/Microsoft.VirtualMachine-ARM) in Azure.
2. Name your machine and select the latest Ubuntu Server as the image. Choose a size with at least **2 CPUs and 8 GB of RAM**. Other settings can be left as default.
    ![Instance details](/images/deploy-azure-instance-details.png)
3. Click **Review + create** at the bottom, then **Create** to create the machine. You will be asked to download the private key.
    <Warning>You may see a warning about leaving port 22 (SSH) open. For production use, it's recommended to open this port only to relevant IPs, depending on your network configuration. In this guide, we're using CloudShell to connect to the machine, so the port needs to remain open.</Warning>
4. Once the VM deployment is complete, click **Go to resource**.
5. From the deployment overview, navigate to **Networking > Network settings**.
6. Under **Rules**, click **Create port rule**, then select **Inbound port rule**:
    ![Creating a port rule](/images/deploy-azure-create-port-rule.png)
7. In security rule settings:
    1. Enter `80` in the **Destination port ranges** text field.
    2. Using the **Source** dropdown, choose to open the port to everyone (default), to your personal IP address only, or to a preferred range.
    3. Enter a name for the rule in the **Name** text field.
    4. Click **Add** to create the rule.
    <NarrowImage src="/images/deploy-azure-add-inbound-security-rule.png" alt="Adding an inbound security rule"/>

### Connect to the virtual machine with Cloud Shell

1. From the VM deployment overview, open the **Overview** tab, then click **Connect** and select **Connect**:
    ![CloudShell overview](/images/deploy-azure-cloudshell-overview.png)
2. In the **Connect** view, expand **More ways to connect**. In the **SSH using Azure CLI** section, click **Connect via Azure CLI**:
    <NarrowImage src="/images/deploy-azure-ssh.png" alt="SSH using Azure CLI" widthPercent={50} />
3. In the **SSH using Azure CLI** overlay, click **Configure + check access**. Once the access check is complete, click **Connect**.
4. Choose **Bash** as the shell type. This will open Cloud Shell inside the Azure Portal.

### Install OpenOps

<AutoInstall/>

Alternatively, you can follow the manual installation steps:

<Expandable title="Installing OpenOps manually">
1. Install the `unzip` utility:
    ```shell
    sudo apt install unzip
    ```
2. Create a new directory and download the OpenOps release files:
    ```shell
    mkdir -p openops && cd openops && \
    wget https://github.com/openops-cloud/openops/releases/download/0.6.9/openops-dc-0.6.9.zip && \
    unzip -o openops-dc-0.6.9.zip && cp -n .env.defaults .env
    ```
3. Edit the application URL to use the machine’s public IP address:
    ```shell
    sed -i 's/http:\/\/localhost/http:\/\/'$(wget -4qO - https://ifconfig.io/ip)'/g' .env
    ```
4. <UpdateCredentials/>
5. Install Docker using Snap:
    ```shell
    sudo snap install docker
    ```
6. Pull the images and run the Docker containers (rerun the pull command if you encounter a rate limit):
    ```shell
    sudo COMPOSE_PARALLEL_LIMIT=4 docker compose pull && sudo docker compose up -d
    ```

If you did not update credentials in the `.env` file, the default username is `admin@openops.com` and the password is `please-change-this-password-1`.
</Expandable>

You can now access the application by navigating to the public IP address of your virtual machine, for example, `http://20.20.20.20`.

## Getting credentials for Azure connections

See [this guide](https://docs.google.com/document/d/1WhwMk3he4d4vEv_7hIw7u_4ZIz_8ZewUS1yUKxpdYR0/edit?tab=t.0#heading=h.4lq77bkice4n).

<TLS target="VM"/>

<HostValidation/>

<UpdateLink/>

## Support

Feel free to join our [Slack community](https://slack.openops.com) if you have any questions or need help with the installation.
