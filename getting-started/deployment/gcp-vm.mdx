---
title: 'GCP Compute Engine Deployment'
description: 'How to deploy OpenOps on a GCP Compute Engine instance'
icon: 'google'
---

import AutoInstall from '/snippets/auto-install.mdx'
import Disclaimer from '/snippets/non-production-disclaimer.mdx';
import ExternalDatabases from '/snippets/external-databases.mdx';
import HostValidation from '/snippets/host-validation.mdx';
import JoinCommunity from '/snippets/join-community.mdx'
import ManualInstall from '/snippets/manual-install.mdx'
import NetworkPorts from '/snippets/network-ports.mdx';
import TLS from '/snippets/tls.mdx';
import RestartContainers from '/snippets/restart-containers.mdx';
import UpdateLink from '/snippets/update-link.mdx';

<Disclaimer/>

This guide explains how to install the OpenOps Docker Compose release on a newly created GCP Compute Engine VM instance.

It assumes you have appropriate permissions on an existing Google Cloud Platform (GCP) project.

## Initial deployment

### Create a new VM instance
1. In the Google Cloud Console, navigate to **Compute Engine** â†’ **VM instances**.
2. Click **Create Instance**.
3. Under **Machine configuration**, configure the following:
    - **Name**: Enter a name for your virtual machine.
    - **Region**: Choose a region close to your users (e.g., `us-east1`).
    - **Zone**: Choose a zone close to your users (e.g., `us-east1-b`), or leave the default to let Google choose one for you.
    - **Series**: Choose any recommended series (e.g., **E2**) or another family you prefer.
    - **Machine type**: Choose a machine size similar to **e2-standard-2** or larger. Avoid very small machines, as OpenOps may need additional CPU/RAM for running Docker containers smoothly.
![Create new instance](/images/deploy-gcp-configure-machine.png)
4. Under **OS and storage**:
    1. Click **Change**.
    2. Select **Ubuntu** as the operating system (Ubuntu 24.04 LTS if available, or a close alternative).
    3. Increase **Size** to at least 50GB to accommodate Docker images and databases.
    ![Change boot disk](/images/deploy-gcp-change-boot-disk.png)
    4. Click **Select**.
5. Under **Networking**, select **Allow HTTP traffic**. This will automatically create a firewall rule to open port 80.
![Allow HTTP traffic](/images/deploy-gcp-allow-http-traffic.png)
6. Keep defaults for other settings (or adjust according to your preferences), then click **Create** to launch the VM.

### Configure firewall for SSH and HTTP

Depending on your project settings, a default firewall rule might already allow SSH access. By checking **Allow HTTP traffic** while creating the instance, HTTP (port 80) is also open. If you need to adjust or review these rules:

1. In the **VPC network** menu, go to **Firewall**.
2. Locate or create firewall rules for:
    - **SSH** (TCP/22) from your IP or a limited source range.
    - **HTTP** (TCP/80) for public access or your desired source range.

### Connect to the instance

1. Once your VM is running, go to the **VM instances** list.
2. Click **SSH** next to your instance, then click **Open in browser window** to launch an in-browser terminal.
![Connect to instance](/images/deploy-gcp-connect-to-instance.png)

### Install OpenOps

<AutoInstall/>

<ManualInstall target="VM"/>

<NetworkPorts/>

<ExternalDatabases/>

<TLS target="VM"/>

<HostValidation/>

## Configuring allowed SMTP ports

By default, OpenOps allows SMTP connections on ports 25, 465, 587, and 2525. Administrators can customize which SMTP ports are available by setting the `OPS_SMTP_ALLOWED_PORTS` environment variable in the `.env` file.

To configure allowed SMTP ports, open the `.env` file in your installation folder and set the `OPS_SMTP_ALLOWED_PORTS` variable to a comma-separated list of port numbers:

```shell
OPS_SMTP_ALLOWED_PORTS=25,465,587,2525
```

<Note>Port numbers must be valid TCP ports in the range 1-65535. At least one valid port must be configured. Invalid port numbers will be filtered out.</Note>

<RestartContainers />

<UpdateLink/>

<JoinCommunity/>
