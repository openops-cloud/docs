---
title: 'Contributing a new block'
description: 'How to contribute a new block to OpenOps'
icon: 'code'
---

## OpenOps vs Activepieces

OpenOps is based on [Activepieces](https://www.activepieces.com/), and contributing to OpenOps is very similar to [contributing to Activepieces](https://www.activepieces.com/docs/developers/building-pieces/overview). What Activepieces calls "pieces" is called "blocks" in OpenOps.

The main differences are as follows:
* Activepieces uses "[piece types](https://www.activepieces.com/docs/developers/building-pieces/piece-definition)" but OpenOps doesn't have the concept of a block type.
* OpenOps doesn't support [creating new triggers](https://www.activepieces.com/docs/developers/building-pieces/create-trigger).
* The `AP_DEV_PIECES` variable inside `packages/server/api/.env` is not used in OpenOps.
* Contributing to OpenOps does not involve publishing your block as an npm package.

## Examples of contributions

Here are examples of past pull requests that contributed new block to OpenOps:
* [Ternary integration](https://github.com/openops-cloud/openops/pull/326)
* [Databricks integration](https://github.com/openops-cloud/openops/pull/434)

## Steps

### Fork the OpenOps repository

Follow these steps to fork the OpenOps repository:

1. Go to the repository page at https://github.com/openops-cloud/openops.
2. Click the `Fork` button located in the top right corner of the page.
3. When GitHub opens a fork configuration page, accept the default option and click **Create Fork**.

Your fork is now at https://github.com/your_github_username/openops

### Set up Codespaces

In your OpenOps fork, click **\<\> Code**, open the **Codespaces** tab, and click **Create codespace on main**:

![Create a codespace](/images/contributing/create-codespace.png)

GitHub will open a new browser tab with a codespace. Wait for the codespace to be ready.

Review extensions that Codespaces recommends for you. Consider installing **Prettier - Code formatter** and **Jest Runner** extensions.

Codespaces will automatically run `npm start` in the terminal.

In the **Ports** tool window, click **Open in browser** in the **App Frontend** row to open the OpenOps frontend in a new browser tab:

![Ports tool window](/images/contributing/ports.png)

When the OpenOps frontend opens, log in with the following credentials:
* Username: `Dev@openops.com`
* Password: `12345678`

### Scaffold a new block

To get started, let's generate a new block for Gelato

```bash
npm run cli blocks create
```

You will be asked three questions to define your new piece:

1. `Block name`: Specify a name for your block. This name uniquely identifies your block within the OpenOps ecosystem.
2. `Package name`: Optionally, you can enter a name for the npm package associated with your piece. If left blank, the default name will be used, which is: `@openops/block-<piece-name>`.
3. `Authentication type`: select one of `None`, `Secret (API key)`, `Custom (custom properties)`, `OAuth2 (OAuth2 flow)`.
4. `Create opinionated folder structure with stubs for actions, tests, and common service layer`: select one of `Yes - Create full folder structure with stubs`, `No - Create minimal structure only`.

OpenOps will generate a full project template inside `packages/blocks/<your-block-name>/`. This gives you everything you need to start writing, testing, and integrating your block.

### Project metadata
- **`package.json`** – Declares the block as an npm package, including its name, dependencies, and scripts.
- **`project.json`** – Nx configuration that tells the monorepo how to build, lint, and test the block.
- **`README.md`** – A starter readme where you should describe what the block does and how to use it.

### TypeScript setup
- **`tsconfig.json`** – Base TypeScript configuration for the block.
- **`tsconfig.lib.json`** – TypeScript settings for building the block’s library code.
- **`tsconfig.spec.json`** – TypeScript settings for compiling and running tests.
- **`tsconfig.base.json`** *(in the repo root, automatically updated)* – Keeps a central list of all projects; the CLI updates it to include your new block.

### Tooling and quality
- **`.eslintrc.json`** – ESLint rules for enforcing code style and catching errors.
- **`jest.config.ts`** – Configuration for Jest, the test runner used in the repo.

### Source and tests
- **`src/index.ts`** – The main entry point of your block. This is where you’ll define its metadata (name, display name, description) and register actions or triggers.
- **`test/index.test.ts`** – A starter Jest test file where you can add unit tests for your block.

The `src/index.ts` file should contain the following code:

```ts
import { BlockAuth, createBlock } from '@openops/blocks-framework';

export const myUniqueBlock = createBlock({
  displayName: 'My-unique-block',
  auth: BlockAuth.None(),
  minimumSupportedRelease: '0.20.0',
  logoUrl: 'https://static.openops.com/blocks/my-unique-block.png',
  authors: [],
  actions: [],
  triggers: [],
});
```

### Create an action

Now let's create first action that will make a simple GET request to [httpbin.org](https://httpbin.org/).

```bash
npm run cli actions create
```

You will be asked three questions to define your new block:

1. `Enter the block folder name`: This is the name associated with the folder where the action resides. Should be the folder of the block you've just created: `my-unique-block`.
2. `Enter the action display name`: The name users see in the interface, conveying the action's purpose clearly. This is also used as the name of the file for the action.
3. `Enter the action description`: A brief, informative text in the UI, guiding users about the action's function and purpose.

If the action display name is `My first action`, the CLI will create a new file named `my-first-action.ts` in the `packages/blocks/<your-block-name>/src/lib/actions` directory. The file should look like this:

```typescript
import { createAction, Property } from '@openops/blocks-framework';

export const myFirstAction = createAction({
  requireToolApproval: false,
  name: 'myFirstAction',
  displayName: 'My first action',
  description: 'What this action does',
  props: {},
  async run() {
    // Action logic here
  },
});
```

Inside this file, paste the following code instead:

```typescript
import { createAction, Property } from '@openops/blocks-framework';
import { httpClient, HttpMethod } from '@openops/blocks-common';

export const myFirstAction = createAction({
  requireToolApproval: false,
  name: 'myFirstAction',
  displayName: 'My first action',
  description: 'What this action does',
  props: {},
  async run(context) {
    const res = await httpClient.sendRequest<string[]>({
      method: HttpMethod.GET,
      url: 'https://httpbin.org/get',
    });
    return res.body;
  },
});
```

The `createAction` function takes an object with several properties, including the `name`, `displayName`, `description`, `props`, and `run` function of the action.

The `name` property is a unique identifier for the action. The `displayName` and `description` properties are used to provide a human-readable name and description for the action.

The `props` property is an object that defines the properties that the action requires from the user. In this case, the action doesn't require any properties.

The `run` function is the function that is called when the action is executed. It takes a single argument, context, which contains the values of the action's properties.

The `run` function uses the `httpClient.sendRequest` function to make a GET request to [httpbin.org](https://httpbin.org/) and returns the response body.

### Reference the action in the block definition

To make the action discoverable by OpenOps, import it into the block definition file at `src/index.ts` and add it to the `actions` array in the definition:

```typescript
import { BlockAuth, createBlock } from '@openops/blocks-framework';
import { myFirstAction } from './lib/actions/my-first-action';

export const myUniqueBlock = createBlock({
  displayName: 'My-unique-block',
  auth: BlockAuth.None(),
  minimumSupportedRelease: '0.20.0',
  logoUrl: 'https://static.openops.com/blocks/my-unique-block.png',
  authors: [],
  actions: [myFirstAction],
  triggers: [],
});
```
### See your action in the OpenOps UI

Once you reference an action from your block definition and the running `npm start` process rebuilds OpenOps, you should see your action in the OpenOps UI for the first time:

![Your action in OpenOps UI](/images/contributing/action-debuts-in-openops-ui.png)

If you use the action, you can see that it doesn't contain any configurable properties so far. This is expected as you haven't defined them yet:

![Action properties](/images/contributing/action-properties-none.png)

If you go to the **Test** tab and click **Test Step**, you can see that it successfully returns a response of an API call to [httpbin.org](https://httpbin.org/):

![Testing the action](/images/contributing/action-testing.png)
